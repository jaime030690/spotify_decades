# Spotify Decades

![Spotify Logo](Images/spotify_logo.png)

## Overview

By the end of 2019 Spotify had the [largest percentage of unique users](https://www.midiaresearch.com/blog/music-subscriber-market-shares-h1-2019/) of all streaming services. Using the [Spotify API](https://developer.spotify.com/documentation/web-api/) it is possible to retrieve metadata on individual tracks which is generated algorithmically. For the scope of this project we are interested in key and time signature, tempo, and mode (major/minor).

The goal of this project is to find trends in Spotify-curated playlists "All Out ##s" from the 50s until the 10s using the following values:
* Key signature
* Time signature
* Tempo
* Mode

## Considerations

### Key Signature
Spotify uses integer values to assign key signatures to each track (0 = C, 1 = C#/Db, ... , 11 = B). The algorithm listens for trends in notes and chords throughout the song to assign a value. There is also a confidence interval which ranges from 0 thru 1 to determine the accuracy of the algorithm's decision.

Plotting using increasing integer values on the x-axis would not make much sense since going up by half a step is not intuitive. Popular music is usually written using keys that do not have a lot of flats/sharps as they are easier to perform. Therefore, taking the key of C major (no sharps or flats) and then going up one integer value to C#/Db (seven sharps and five flats respectively) would not cluster the data in a visually appeasing way.

Instead we will use the [circle of fifths](https://en.wikipedia.org/wiki/Circle_of_fifths). We will count the number of flats and sharps to assign an integer value. Five flats will have a value of -5; no flats/sharps will have a value of 0; 6 sharps will have a value of 6.

### Time Signature
Spotify's algorithm estimates the time signature of a track by measuring the number of beats in each bar (measure). This is an integer value and ranges from 3 to 7. It assumes that the denominator of the time signature is 4, so a time signature value of 3 would indicate a 3/4 time signature.

Although time signatures vary a [lot](https://en.wikipedia.org/wiki/Time_signature#Complex_time_signatures), the number generated by Spotify can help to understand the general direction of the track.

### Tempo
An integer for the tempo value is returned for the song which corresponds to the beats per minute (BPM) of the song.

### Mode
[Modern musical modes](https://en.wikipedia.org/wiki/Mode_(music)) are used throughout compositions, however Spotify's algorithm recognizes only two: major (Ionian) and minor (Aeolian). Modes are indicated by integer values, with 0 for minor and 1 for major.

## Method

### Data Selection
Use Spotify's "All Out XXs" from 1950s till 2010s. Retrieve each playlist's ID.

### Data Mining
We will use the [Spotipy](https://spotipy.readthedocs.io/en/2.7.1/) library to make the API calls. Spotify requires authentication to use its API and a the user must have a Spotify account to access it.

### Playlist Capture
Each Spotify playlist has a unique URI. We can dump the contents of a playlist into a dataframe with desired key values.

### Track Information
Retrieve desired information through Spotipy and save to a csv file.
